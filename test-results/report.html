<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title id="head-title">report.html</title>
      <style type="text/css">body {
  font-family: Helvetica, Arial, sans-serif;
  font-size: 12px;
  /* do not increase min-width as some may use split screens */
  min-width: 800px;
  color: #999;
}

h1 {
  font-size: 24px;
  color: black;
}

h2 {
  font-size: 16px;
  color: black;
}

p {
  color: black;
}

a {
  color: #999;
}

table {
  border-collapse: collapse;
}

/******************************
 * SUMMARY INFORMATION
 ******************************/
#environment td {
  padding: 5px;
  border: 1px solid #e6e6e6;
  vertical-align: top;
}
#environment tr:nth-child(odd) {
  background-color: #f6f6f6;
}
#environment ul {
  margin: 0;
  padding: 0 20px;
}

/******************************
 * TEST RESULT COLORS
 ******************************/
span.passed,
.passed .col-result {
  color: green;
}

span.skipped,
span.xfailed,
span.rerun,
.skipped .col-result,
.xfailed .col-result,
.rerun .col-result {
  color: orange;
}

span.error,
span.failed,
span.xpassed,
.error .col-result,
.failed .col-result,
.xpassed .col-result {
  color: red;
}

.col-links__extra {
  margin-right: 3px;
}

/******************************
 * RESULTS TABLE
 *
 * 1. Table Layout
 * 2. Extra
 * 3. Sorting items
 *
 ******************************/
/*------------------
 * 1. Table Layout
 *------------------*/
#results-table {
  border: 1px solid #e6e6e6;
  color: #999;
  font-size: 12px;
  width: 100%;
}
#results-table th,
#results-table td {
  padding: 5px;
  border: 1px solid #e6e6e6;
  text-align: left;
}
#results-table th {
  font-weight: bold;
}

/*------------------
 * 2. Extra
 *------------------*/
.logwrapper {
  max-height: 230px;
  overflow-y: scroll;
  background-color: #e6e6e6;
}
.logwrapper.expanded {
  max-height: none;
}
.logwrapper.expanded .logexpander:after {
  content: "collapse [-]";
}
.logwrapper .logexpander {
  z-index: 1;
  position: sticky;
  top: 10px;
  width: max-content;
  border: 1px solid;
  border-radius: 3px;
  padding: 5px 7px;
  margin: 10px 0 10px calc(100% - 80px);
  cursor: pointer;
  background-color: #e6e6e6;
}
.logwrapper .logexpander:after {
  content: "expand [+]";
}
.logwrapper .logexpander:hover {
  color: #000;
  border-color: #000;
}
.logwrapper .log {
  min-height: 40px;
  position: relative;
  top: -50px;
  height: calc(100% + 50px);
  border: 1px solid #e6e6e6;
  color: black;
  display: block;
  font-family: "Courier New", Courier, monospace;
  padding: 5px;
  padding-right: 80px;
  white-space: pre-wrap;
}

div.media {
  border: 1px solid #e6e6e6;
  float: right;
  height: 240px;
  margin: 0 5px;
  overflow: hidden;
  width: 320px;
}

.media-container {
  display: grid;
  grid-template-columns: 25px auto 25px;
  align-items: center;
  flex: 1 1;
  overflow: hidden;
  height: 200px;
}

.media-container--fullscreen {
  grid-template-columns: 0px auto 0px;
}

.media-container__nav--right,
.media-container__nav--left {
  text-align: center;
  cursor: pointer;
}

.media-container__viewport {
  cursor: pointer;
  text-align: center;
  height: inherit;
}
.media-container__viewport img,
.media-container__viewport video {
  object-fit: cover;
  width: 100%;
  max-height: 100%;
}

.media__name,
.media__counter {
  display: flex;
  flex-direction: row;
  justify-content: space-around;
  flex: 0 0 25px;
  align-items: center;
}

.collapsible td:not(.col-links) {
  cursor: pointer;
}
.collapsible td:not(.col-links):hover::after {
  color: #bbb;
  font-style: italic;
  cursor: pointer;
}

.col-result {
  width: 130px;
}
.col-result:hover::after {
  content: " (hide details)";
}

.col-result.collapsed:hover::after {
  content: " (show details)";
}

#environment-header h2:hover::after {
  content: " (hide details)";
  color: #bbb;
  font-style: italic;
  cursor: pointer;
  font-size: 12px;
}

#environment-header.collapsed h2:hover::after {
  content: " (show details)";
  color: #bbb;
  font-style: italic;
  cursor: pointer;
  font-size: 12px;
}

/*------------------
 * 3. Sorting items
 *------------------*/
.sortable {
  cursor: pointer;
}
.sortable.desc:after {
  content: " ";
  position: relative;
  left: 5px;
  bottom: -12.5px;
  border: 10px solid #4caf50;
  border-bottom: 0;
  border-left-color: transparent;
  border-right-color: transparent;
}
.sortable.asc:after {
  content: " ";
  position: relative;
  left: 5px;
  bottom: 12.5px;
  border: 10px solid #4caf50;
  border-top: 0;
  border-left-color: transparent;
  border-right-color: transparent;
}

.hidden, .summary__reload__button.hidden {
  display: none;
}

.summary__data {
  flex: 0 0 550px;
}
.summary__reload {
  flex: 1 1;
  display: flex;
  justify-content: center;
}
.summary__reload__button {
  flex: 0 0 300px;
  display: flex;
  color: white;
  font-weight: bold;
  background-color: #4caf50;
  text-align: center;
  justify-content: center;
  align-items: center;
  border-radius: 3px;
  cursor: pointer;
}
.summary__reload__button:hover {
  background-color: #46a049;
}
.summary__spacer {
  flex: 0 0 550px;
}

.controls {
  display: flex;
  justify-content: space-between;
}

.filters,
.collapse {
  display: flex;
  align-items: center;
}
.filters button,
.collapse button {
  color: #999;
  border: none;
  background: none;
  cursor: pointer;
  text-decoration: underline;
}
.filters button:hover,
.collapse button:hover {
  color: #ccc;
}

.filter__label {
  margin-right: 10px;
}

      </style>
    
  </head>
  <body>
    <h1 id="title">report.html</h1>
    <p>Report generated on 27-Nov-2024 at 14:16:22 by <a href="https://pypi.python.org/pypi/pytest-html">pytest-html</a>
        v4.1.1</p>
    <div id="environment-header">
      <h2>Environment</h2>
    </div>
    <table id="environment"></table>
    <!-- TEMPLATES -->
      <template id="template_environment_row">
      <tr>
        <td></td>
        <td></td>
      </tr>
    </template>
    <template id="template_results-table__body--empty">
      <tbody class="results-table-row">
        <tr id="not-found-message">
          <td colspan="4">No results found. Check the filters.</th>
        </tr>
    </template>
    <template id="template_results-table__tbody">
      <tbody class="results-table-row">
        <tr class="collapsible">
        </tr>
        <tr class="extras-row">
          <td class="extra" colspan="4">
            <div class="extraHTML"></div>
            <div class="media">
              <div class="media-container">
                  <div class="media-container__nav--left"><</div>
                  <div class="media-container__viewport">
                    <img src="" />
                    <video controls>
                      <source src="" type="video/mp4">
                    </video>
                  </div>
                  <div class="media-container__nav--right">></div>
                </div>
                <div class="media__name"></div>
                <div class="media__counter"></div>
            </div>
            <div class="logwrapper">
              <div class="logexpander"></div>
              <div class="log"></div>
            </div>
          </td>
        </tr>
      </tbody>
    </template>
    <!-- END TEMPLATES -->
    <div class="summary">
      <div class="summary__data">
        <h2>Summary</h2>
        <div class="additional-summary prefix">
        </div>
        <p class="run-count">38 tests took 00:00:06.</p>
        <p class="filter">(Un)check the boxes to filter the results.</p>
        <div class="summary__reload">
          <div class="summary__reload__button hidden" onclick="location.reload()">
            <div>There are still tests running. <br />Reload this page to get the latest results!</div>
          </div>
        </div>
        <div class="summary__spacer"></div>
        <div class="controls">
          <div class="filters">
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="failed" />
            <span class="failed">18 Failed,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="passed" />
            <span class="passed">20 Passed,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="skipped" />
            <span class="skipped">6 Skipped,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="xfailed" disabled/>
            <span class="xfailed">0 Expected failures,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="xpassed" disabled/>
            <span class="xpassed">0 Unexpected passes,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="error" />
            <span class="error">6 Errors,</span>
            <input checked="true" class="filter" name="filter_checkbox" type="checkbox" data-test-result="rerun" disabled/>
            <span class="rerun">0 Reruns</span>
          </div>
          <div class="collapse">
            <button id="show_all_details">Show all details</button>&nbsp;/&nbsp;<button id="hide_all_details">Hide all details</button>
          </div>
        </div>
      </div>
      <div class="additional-summary summary">
      </div>
      <div class="additional-summary postfix">
      </div>
    </div>
    <table id="results-table">
      <thead id="results-table-head">
        <tr>
          <th class="sortable" data-column-type="result">Result</th>
          <th class="sortable" data-column-type="testId">Test</th>
          <th class="sortable" data-column-type="duration">Duration</th>
          <th>Links</th>
        </tr>
      </thead>
    </table>
  </body>
  <footer>
    <div id="data-container" data-jsonblob="{&#34;environment&#34;: {&#34;Python&#34;: &#34;3.12.0&#34;, &#34;Platform&#34;: &#34;Windows-11-10.0.22631-SP0&#34;, &#34;Packages&#34;: {&#34;pytest&#34;: &#34;8.3.3&#34;, &#34;pluggy&#34;: &#34;1.5.0&#34;}, &#34;Plugins&#34;: {&#34;anyio&#34;: &#34;4.6.2.post1&#34;, &#34;asyncio&#34;: &#34;0.24.0&#34;, &#34;cov&#34;: &#34;6.0.0&#34;, &#34;html&#34;: &#34;4.1.1&#34;, &#34;metadata&#34;: &#34;3.1.1&#34;, &#34;mock&#34;: &#34;3.14.0&#34;}}, &#34;tests&#34;: {&#34;tests/test_chat_interface.py::test_chat_interface_initialization&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_chat_interface.py::test_chat_interface_initialization&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_chat_interface.py::test_chat_interface_initialization&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log setup ------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\n&#34;}], &#34;tests/test_chat_interface.py::test_chat_interface_custom_initialization&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_chat_interface.py::test_chat_interface_custom_initialization&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_chat_interface.py::test_chat_interface_custom_initialization&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-4\n\n&#34;}], &#34;tests/test_chat_interface.py::test_chat_history_operations&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_chat_interface.py::test_chat_history_operations&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_chat_interface.py::test_chat_history_operations&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log setup ------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:247 Imported 2 messages to chat history\nINFO     streamlitchat.chat_interface:chat_interface.py:230 Chat history cleared\n\n&#34;}], &#34;tests/test_chat_interface.py::test_validate_api_key&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_chat_interface.py::test_validate_api_key&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_chat_interface.py::test_validate_api_key&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\n\n&#34;}], &#34;tests/test_chat_interface.py::test_api_response_caching&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_chat_interface.py::test_api_response_caching&#34;, &#34;duration&#34;: &#34;4 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_chat_interface.py::test_api_response_caching&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;4 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_chat_interface.py::test_api_rate_limiting&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_chat_interface.py::test_api_rate_limiting&#34;, &#34;duration&#34;: &#34;2 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_chat_interface.py::test_api_rate_limiting&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;2 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nDEBUG    streamlitchat.chat_interface:chat_interface.py:282 Queued message: Test message\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_chat_interface.py::test_batch_processing&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_chat_interface.py::test_batch_processing&#34;, &#34;duration&#34;: &#34;00:00:01&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_chat_interface.py::test_batch_processing&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:01&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nDEBUG    streamlitchat.chat_interface:chat_interface.py:282 Queued message: Message 1\nDEBUG    streamlitchat.chat_interface:chat_interface.py:282 Queued message: Message 2\nDEBUG    streamlitchat.chat_interface:chat_interface.py:282 Queued message: Message 3\nDEBUG    streamlitchat.chat_interface:chat_interface.py:268 Cached response for key: 1649edf42674daa0af1e802c71f7feb0\nDEBUG    streamlitchat.chat_interface:chat_interface.py:268 Cached response for key: 1ec2ffd03c09d311987fff21a762ed8d\nDEBUG    streamlitchat.chat_interface:chat_interface.py:268 Cached response for key: d676b62d1e1274303d9a47082e16fa01\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_e2e.py::test_complete_chat_flow&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_e2e.py::test_complete_chat_flow&#34;, &#34;duration&#34;: &#34;00:00:01&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_e2e.py::test_complete_chat_flow&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;00:00:01&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stderr setup -----------------------------\n2024-11-27 14:16:16.120 WARNING streamlit.runtime.scriptrunner_utils.script_run_context: Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nINFO     __main__:app.py:53 Starting new chat session\n\n----------------------------- Captured stderr call -----------------------------\n2024-11-27 14:16:16.599 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:16.599 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log call -------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nINFO     __main__:app.py:53 Starting new chat session\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nINFO     __main__:app.py:53 Starting new chat session\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nINFO     __main__:app.py:53 Starting new chat session\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_e2e.py::test_settings_interaction&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_e2e.py::test_settings_interaction&#34;, &#34;duration&#34;: &#34;464 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_e2e.py::test_settings_interaction&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;464 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stderr setup -----------------------------\n2024-11-27 14:16:17.194 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nINFO     __main__:app.py:53 Starting new chat session\n\n----------------------------- Captured stderr call -----------------------------\n2024-11-27 14:16:17.423 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log call -------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nINFO     __main__:app.py:53 Starting new chat session\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_e2e.py::test_error_handling_flow&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_e2e.py::test_error_handling_flow&#34;, &#34;duration&#34;: &#34;571 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_e2e.py::test_error_handling_flow&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;571 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stderr setup -----------------------------\n2024-11-27 14:16:17.660 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nINFO     __main__:app.py:53 Starting new chat session\n\n----------------------------- Captured stderr call -----------------------------\n2024-11-27 14:16:17.890 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:17.890 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 169, in _handle_user_input\n    async for chunk in self.chat_interface.send_message_stream(prompt):\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\unittest\\mock.py&amp;quot;, line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\unittest\\mock.py&amp;quot;, line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\unittest\\mock.py&amp;quot;, line 1193, in _execute_mock_call\n    raise effect\nException: API Error\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 54, in main\n    await ui.render()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 326, in render\n    await self.handle_user_input()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 320, in handle_user_input\n    return await self._handle_user_input()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 182, in _handle_user_input\n    logger.error(f&amp;quot;Error processing message: {e}&amp;quot;, exc_info=True)\nMessage: &amp;#x27;Error processing message: API Error&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 169, in _handle_user_input\n    async for chunk in self.chat_interface.send_message_stream(prompt):\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\unittest\\mock.py&amp;quot;, line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\unittest\\mock.py&amp;quot;, line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\unittest\\mock.py&amp;quot;, line 1193, in _execute_mock_call\n    raise effect\nException: API Error\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 54, in main\n    await ui.render()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 326, in render\n    await self.handle_user_input()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 320, in handle_user_input\n    return await self._handle_user_input()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 182, in _handle_user_input\n    logger.error(f&amp;quot;Error processing message: {e}&amp;quot;, exc_info=True)\nMessage: &amp;#x27;Error processing message: API Error&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log call -------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nINFO     __main__:app.py:53 Starting new chat session\nERROR    streamlitchat.ui:ui.py:182 Error processing message: API Error\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 169, in _handle_user_input\n    async for chunk in self.chat_interface.send_message_stream(prompt):\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\unittest\\mock.py&amp;quot;, line 1134, in __call__\n    return self._mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\unittest\\mock.py&amp;quot;, line 1138, in _mock_call\n    return self._execute_mock_call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\unittest\\mock.py&amp;quot;, line 1193, in _execute_mock_call\n    raise effect\nException: API Error\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_e2e.py::test_keyboard_shortcuts&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_e2e.py::test_keyboard_shortcuts&#34;, &#34;duration&#34;: &#34;599 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_e2e.py::test_keyboard_shortcuts&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;599 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stderr setup -----------------------------\n2024-11-27 14:16:18.233 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nINFO     __main__:app.py:53 Starting new chat session\n\n----------------------------- Captured stderr call -----------------------------\n2024-11-27 14:16:18.461 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:18.462 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:18.462 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 169, in _handle_user_input\n    async for chunk in self.chat_interface.send_message_stream(prompt):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 184, in send_message_stream\n    raise ValueError(&amp;quot;API key must be set before sending messages&amp;quot;)\nValueError: API key must be set before sending messages\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 54, in main\n    await ui.render()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 326, in render\n    await self.handle_user_input()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 320, in handle_user_input\n    return await self._handle_user_input()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 182, in _handle_user_input\n    logger.error(f&amp;quot;Error processing message: {e}&amp;quot;, exc_info=True)\nMessage: &amp;#x27;Error processing message: API key must be set before sending messages&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 169, in _handle_user_input\n    async for chunk in self.chat_interface.send_message_stream(prompt):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 184, in send_message_stream\n    raise ValueError(&amp;quot;API key must be set before sending messages&amp;quot;)\nValueError: API key must be set before sending messages\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 54, in main\n    await ui.render()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 326, in render\n    await self.handle_user_input()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 320, in handle_user_input\n    return await self._handle_user_input()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 182, in _handle_user_input\n    logger.error(f&amp;quot;Error processing message: {e}&amp;quot;, exc_info=True)\nMessage: &amp;#x27;Error processing message: API key must be set before sending messages&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log call -------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nINFO     __main__:app.py:53 Starting new chat session\nERROR    streamlitchat.ui:ui.py:182 Error processing message: API key must be set before sending messages\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 169, in _handle_user_input\n    async for chunk in self.chat_interface.send_message_stream(prompt):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 184, in send_message_stream\n    raise ValueError(&amp;quot;API key must be set before sending messages&amp;quot;)\nValueError: API key must be set before sending messages\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_e2e.py::test_message_pagination&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_e2e.py::test_message_pagination&#34;, &#34;duration&#34;: &#34;898 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_e2e.py::test_message_pagination&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;898 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stderr setup -----------------------------\n2024-11-27 14:16:18.834 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nINFO     __main__:app.py:53 Starting new chat session\n\n----------------------------- Captured stderr call -----------------------------\n2024-11-27 14:16:19.188 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:19.188 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 46, in main\n    chat_interface = ChatInterface(test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 66, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\app.py&amp;quot;, line 49, in main\n    ui = ChatUI(chat_interface, test_mode=test_mode)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log call -------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nINFO     __main__:app.py:53 Starting new chat session\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nINFO     __main__:app.py:53 Starting new chat session\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nINFO     __main__:app.py:53 Starting new chat session\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nINFO     __main__:app.py:53 Starting new chat session\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nINFO     __main__:app.py:53 Starting new chat session\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_examples.py::test_basic_chat_initialization&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_examples.py::test_basic_chat_initialization&#34;, &#34;duration&#34;: &#34;24 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_examples.py::test_basic_chat_initialization&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;24 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;basic_chat_test = AppTest(\n    _script_path=&amp;#x27;examples/basic_chat.py&amp;#x27;,\n    default_timeout=3,\n    session_state={$$STREAMLIT_INTERNAL_KEY...SpecialBlock(\n            type=&amp;#x27;sidebar&amp;#x27;\n        ),\n        2: SpecialBlock(\n            type=&amp;#x27;event&amp;#x27;\n        )\n    }\n)\n\n    def test_basic_chat_initialization(basic_chat_test):\n        &amp;quot;&amp;quot;&amp;quot;Test basic chat example initialization.&amp;quot;&amp;quot;&amp;quot;\n        # Verify title\n        assert len(basic_chat_test.title) &amp;gt; 0\n&amp;gt;       assert &amp;quot;StreamlitChat Basic Example&amp;quot; in basic_chat_test.title[0].value\nE       AssertionError: assert &amp;#x27;StreamlitChat Basic Example&amp;#x27; in &amp;#x27;StreamlitChat&amp;#x27;\nE        +  where &amp;#x27;StreamlitChat&amp;#x27; = Title(tag=&amp;#x27;h1&amp;#x27;).value\n\ntests\\test_examples.py:26: AssertionError\n\n---------------------------- Captured stderr setup -----------------------------\n2024-11-27 14:16:19.736 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 50, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 29, in main\n    chat_interface = ChatInterface(\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;claude-3-5-sonnet-20241022&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 50, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 29, in main\n    chat_interface = ChatInterface(\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;claude-3-5-sonnet-20241022&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 50, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 35, in main\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 50, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 35, in main\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 50, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 35, in main\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 50, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 35, in main\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 50, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 35, in main\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 50, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 35, in main\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: claude-3-5-sonnet-20241022\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nERROR    __main__:basic_chat.py:46 Error in main app: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 35, in main\n    ui = ChatUI(chat_interface)\n         ^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 54, in __init__\n    self._load_conversation()  # Load persisted conversation\n    ^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n&#34;}], &#34;tests/test_examples.py::test_basic_chat_interaction&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_examples.py::test_basic_chat_interaction&#34;, &#34;duration&#34;: &#34;19 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_examples.py::test_basic_chat_interaction&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;19 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;basic_chat_test = AppTest(\n    _script_path=&amp;#x27;examples/basic_chat.py&amp;#x27;,\n    default_timeout=3,\n    session_state={$$STREAMLIT_INTERNAL_KEY...SpecialBlock(\n            type=&amp;#x27;sidebar&amp;#x27;\n        ),\n        2: SpecialBlock(\n            type=&amp;#x27;event&amp;#x27;\n        )\n    }\n)\n\n    def test_basic_chat_interaction(basic_chat_test):\n        &amp;quot;&amp;quot;&amp;quot;Test basic chat interaction.&amp;quot;&amp;quot;&amp;quot;\n        # Send a test message\n&amp;gt;       basic_chat_test.chat_input[0].set_value(&amp;quot;Hello&amp;quot;)\n\ntests\\test_examples.py:38: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = WidgetList(), idx = 0\n\n    def __getitem__(self, idx: int | slice) -&amp;gt; El_co | ElementList[El_co]:\n        if isinstance(idx, slice):\n            return ElementList(self._list[idx])\n        else:\n&amp;gt;           return self._list[idx]\nE           IndexError: list index out of range\n\n.venv\\Lib\\site-packages\\streamlit\\testing\\v1\\element_tree.py:228: IndexError\n\n---------------------------- Captured stderr setup -----------------------------\n2024-11-27 14:16:19.765 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 50, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 29, in main\n    chat_interface = ChatInterface(\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;claude-3-5-sonnet-20241022&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 50, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 29, in main\n    chat_interface = ChatInterface(\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;claude-3-5-sonnet-20241022&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 50, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 35, in main\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 50, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 35, in main\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 50, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 35, in main\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 50, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 35, in main\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 50, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 35, in main\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1009, in _bootstrap\n    self._bootstrap_inner()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 1052, in _bootstrap_inner\n    self.run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\threading.py&amp;quot;, line 989, in run\n    self._target(*self._args, **self._kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 320, in _run_script_thread\n    self._run_script(request.rerun_data)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 595, in _run_script\n    ) = exec_func_with_error_handling(code_to_exec, ctx)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\exec_code.py&amp;quot;, line 88, in exec_func_with_error_handling\n    result = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\scriptrunner\\script_runner.py&amp;quot;, line 579, in code_to_exec\n    exec(code, module.__dict__)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 50, in &amp;lt;module&amp;gt;\n    asyncio.run(main())\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 194, in run\n    return runner.run(main)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\runners.py&amp;quot;, line 118, in run\n    return self._loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 35, in main\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: claude-3-5-sonnet-20241022\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\nERROR    __main__:basic_chat.py:46 Error in main app: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\examples\\basic_chat.py&amp;quot;, line 35, in main\n    ui = ChatUI(chat_interface)\n         ^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 54, in __init__\n    self._load_conversation()  # Load persisted conversation\n    ^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n&#34;}], &#34;tests/test_logging.py::test_logging_configuration&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_logging.py::test_logging_configuration&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_logging.py::test_logging_configuration&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_logging.py::test_log_rotation&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_logging.py::test_log_rotation&#34;, &#34;duration&#34;: &#34;973 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_logging.py::test_log_rotation&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;973 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stderr call -----------------------------\n2024-11-27 14:16:19,812 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,814 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,815 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,816 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,817 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,819 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,819 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,819 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,820 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,822 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,822 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,823 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,823 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,826 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,826 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,827 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,827 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,830 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,830 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,831 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,831 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,834 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,834 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,835 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,835 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,838 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,839 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,839 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,840 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,842 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,843 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,843 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,844 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,846 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,847 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,847 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,847 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,850 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,851 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,851 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,852 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,854 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,854 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,855 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,856 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,858 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,858 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,858 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,859 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,861 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,862 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,862 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,863 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,864 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,865 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,865 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,865 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,867 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,868 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,869 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,869 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,871 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,871 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,872 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,873 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,874 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,875 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,875 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,876 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,878 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,879 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,879 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,880 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,882 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,882 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,883 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,883 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,885 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,885 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,886 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,886 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,889 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,889 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,890 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,890 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,893 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,893 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,893 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,894 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,895 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,895 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,896 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,897 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,899 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,900 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,900 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,900 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,902 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,903 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,903 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,904 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,906 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,906 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,907 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,907 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,909 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,910 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,910 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,911 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,912 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,913 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,914 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,914 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,916 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,916 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,917 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,917 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,919 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,920 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,920 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,921 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,923 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,924 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,924 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,924 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,926 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,926 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,927 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,927 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,930 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,930 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,931 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,931 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,933 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,933 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,934 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,934 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,936 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,937 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,937 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,937 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,939 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,940 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,941 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,941 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,943 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,943 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,944 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,944 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,946 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,947 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,947 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,948 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,950 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,950 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,951 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,951 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,954 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,955 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,955 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,956 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,957 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,958 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,958 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,959 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,960 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,961 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,961 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,962 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,964 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,965 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,965 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,966 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,969 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,969 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,970 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,970 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,972 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,974 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,975 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,975 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,977 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,978 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,979 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,979 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,983 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,983 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,984 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,984 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,986 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,988 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,989 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,989 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,992 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,992 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,993 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,993 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,996 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,996 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,997 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:19,997 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,000 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,000 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,001 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,002 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,004 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,005 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,005 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,006 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,008 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,008 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,009 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,009 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,012 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,013 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,014 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,015 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,017 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,017 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,018 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,019 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,020 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,021 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,021 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,022 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,024 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,024 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,025 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,025 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,028 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,028 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,029 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,029 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,031 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,031 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,032 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,032 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,034 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,034 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,035 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,035 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,037 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,038 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,038 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,038 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,040 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,040 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,041 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,041 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,044 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,044 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,045 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,045 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,047 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,047 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,048 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,048 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,050 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,051 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,051 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,051 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,053 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,053 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,054 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,054 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,056 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,056 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,058 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,058 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,060 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,060 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,061 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,061 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,063 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,063 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,064 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,064 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,066 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,067 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,067 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,068 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,069 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,070 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,070 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,071 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,072 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,073 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,074 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,074 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,076 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,076 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,077 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,077 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,079 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,080 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,080 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,081 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,083 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,083 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,083 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,084 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,087 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,087 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,087 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,087 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,090 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,090 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,091 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,091 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,093 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,094 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,094 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,094 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,096 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,097 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,097 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,097 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,099 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,100 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,100 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,100 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,102 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,103 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,104 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,104 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,106 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,107 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,107 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,107 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,110 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,110 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,111 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,111 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,112 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,113 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,113 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,113 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,115 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,116 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,116 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,116 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,120 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,121 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,122 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,122 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,124 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,125 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,126 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,126 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,129 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,129 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,130 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,130 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,132 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,132 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,133 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,134 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,136 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,136 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,137 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,137 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,140 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,141 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,142 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,142 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,144 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,145 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,146 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,146 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,148 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,149 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,150 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,150 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,152 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,153 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,153 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,154 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,156 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,156 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,156 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,157 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,159 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,160 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,160 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,160 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,162 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,163 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,163 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,164 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,166 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,167 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,167 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,168 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,170 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,171 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,172 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,172 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,174 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,175 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,176 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,176 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,180 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,181 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,183 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,184 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,186 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,187 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,187 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,189 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,190 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,191 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,192 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,192 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,195 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,196 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,196 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,197 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,199 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,199 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,200 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,200 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,203 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,203 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,204 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,204 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,206 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,207 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,207 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,207 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,210 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,210 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,210 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,211 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,214 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,214 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,215 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,215 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,217 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,217 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,218 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,218 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,220 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,220 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,221 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,222 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,224 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,224 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,225 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,225 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,227 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,228 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,228 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,229 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,232 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,233 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,233 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,234 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,238 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,238 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,239 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,240 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,243 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,244 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,245 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,245 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,249 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,250 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,251 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,251 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,254 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,255 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,256 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,257 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,260 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,261 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,261 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,262 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,266 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,266 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,268 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,268 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,271 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,271 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,272 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,273 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,276 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,276 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,277 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,278 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,280 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,281 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,281 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,282 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,284 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,286 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,287 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,288 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,290 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,291 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,291 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,292 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,295 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,295 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,296 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,296 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,298 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,298 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,299 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,300 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,302 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,302 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,303 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,303 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,306 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,306 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,308 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,308 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,311 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,311 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,312 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,312 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,315 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,316 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,317 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,317 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,320 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,320 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,321 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,322 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,325 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,325 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,326 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,326 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,328 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,329 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,330 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,331 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,333 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,334 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,335 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,336 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,338 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,339 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,340 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,340 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,343 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,344 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,345 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,346 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,349 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,349 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,350 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,350 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,354 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,355 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,355 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,356 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,359 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,360 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,360 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,360 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,363 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,363 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,364 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,365 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,368 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,369 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,369 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,370 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,374 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,374 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,375 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,375 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,379 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,380 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,380 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,381 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,384 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,385 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,386 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,386 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,390 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,391 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,391 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,392 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,395 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,396 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,397 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,397 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,400 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,400 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,401 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,402 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,404 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,405 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,406 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,406 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,409 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,410 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,411 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,411 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,415 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,416 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,417 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,417 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,420 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,420 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,421 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,421 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,423 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,424 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,425 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,426 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,428 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,429 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,429 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,429 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,433 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,433 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,434 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,434 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,436 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,438 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,439 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,439 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,441 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,442 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,443 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,443 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,447 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,448 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,448 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,449 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,453 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,453 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,454 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,455 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,458 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,458 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,459 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,459 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,462 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,463 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,463 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,464 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,467 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,468 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,470 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,470 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,472 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,473 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,474 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,475 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,477 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,477 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,478 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,478 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,481 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,482 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,483 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,483 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,486 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,487 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,488 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,488 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,490 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,491 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,492 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,492 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,496 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,496 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,497 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,497 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,501 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,501 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,503 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,504 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,507 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,508 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,509 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,509 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,511 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,512 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,512 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,513 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,515 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,516 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,516 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,516 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,519 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,520 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,520 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,521 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,524 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,524 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,525 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,525 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,528 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,528 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,529 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,530 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,532 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,532 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,533 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,533 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,536 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,536 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,537 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,537 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,539 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,540 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,540 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,541 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,542 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,542 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,544 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,544 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,546 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,547 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,547 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,547 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,550 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,550 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,550 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,551 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,553 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,553 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,554 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,554 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,556 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,556 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,557 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,557 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,559 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,560 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,560 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,561 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,562 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,563 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,563 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,564 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,566 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,567 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,567 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,567 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,570 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,570 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,571 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,571 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,573 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,573 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,574 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,574 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,576 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,576 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,576 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,578 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,580 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,580 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,580 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,581 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,582 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,583 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,583 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,584 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,585 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,586 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,586 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,586 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,589 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,589 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,590 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,590 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,592 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,592 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,592 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,593 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,594 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,595 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,596 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,596 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,598 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,598 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,599 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,599 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,601 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,602 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,602 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,603 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,604 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,605 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,605 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,605 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,607 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,607 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,608 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,609 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,610 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,611 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,611 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,611 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,613 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,614 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,614 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,615 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,617 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,617 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,618 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,618 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,620 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,620 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,621 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,621 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,623 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,623 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,624 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,624 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,626 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,627 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,627 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,627 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,629 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,630 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,630 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,631 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,633 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,633 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,634 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,634 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,636 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,636 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,637 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,637 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,639 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,640 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,640 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,641 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,642 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,643 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,643 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,644 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,646 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,646 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,647 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,647 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,650 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,650 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,651 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,651 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,653 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,653 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,654 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,654 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,657 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,657 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,658 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,659 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,660 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,661 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,661 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,662 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,664 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,664 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,665 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,665 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,667 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,667 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,667 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,668 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,670 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,671 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,671 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,671 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,673 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,673 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,674 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,674 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,676 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,676 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,677 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,677 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,680 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,680 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,681 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,681 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,683 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,683 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,684 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,684 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,685 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,686 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,686 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,686 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,689 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,689 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,690 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,690 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,692 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,693 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,694 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,694 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,695 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,695 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,696 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,696 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,699 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,700 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,700 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,700 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,702 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,703 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,704 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,704 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,707 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,707 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,707 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,708 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,714 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,714 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,715 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,715 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,717 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,718 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,718 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,719 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,721 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,721 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,722 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,722 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,725 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,725 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,726 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,726 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,728 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,729 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,730 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,730 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,732 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,733 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,733 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,734 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,736 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,737 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,737 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,737 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,739 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,740 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,740 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,741 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,743 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,743 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,744 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,744 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,746 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,746 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,747 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,747 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,750 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,750 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,751 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,751 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,753 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,753 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,754 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,754 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,756 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,756 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,757 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,757 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,759 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,760 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,760 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,760 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,762 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,762 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,763 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,763 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,766 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,766 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,767 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,767 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,768 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,768 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,769 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,769 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,772 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,773 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,773 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,774 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,775 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,776 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,776 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,777 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,779 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,779 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,780 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,780 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,782 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,782 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n2024-11-27 14:16:20,783 - streamlitchat - [no-request-id] - INFO - Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message \nINFO     streamlitchat:test_logging.py:36 Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message Test log message\n\n&#34;}], &#34;tests/test_logging.py::test_request_id_tracking&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_logging.py::test_request_id_tracking&#34;, &#34;duration&#34;: &#34;3 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_logging.py::test_request_id_tracking&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;3 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;----------------------------- Captured stderr call -----------------------------\n2024-11-27 14:16:20,789 - streamlitchat - [test-123] - INFO - Test message\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat:test_logging.py:51 Test message\n\n&#34;}], &#34;tests/test_logging.py::test_custom_exceptions&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_logging.py::test_custom_exceptions&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_logging.py::test_custom_exceptions&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_performance.py::test_message_rendering_speed&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_performance.py::test_message_rendering_speed&#34;, &#34;duration&#34;: &#34;19 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_performance.py::test_message_rendering_speed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;19 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;@pytest.mark.performance\n    async def test_message_rendering_speed():\n        &amp;quot;&amp;quot;&amp;quot;Test message rendering performance.&amp;quot;&amp;quot;&amp;quot;\n        with patch(&amp;#x27;streamlit.session_state&amp;#x27;) as mock_state:\n            # Setup test data\n            mock_state.messages = [\n                {&amp;quot;role&amp;quot;: &amp;quot;user&amp;quot; if i % 2 == 0 else &amp;quot;assistant&amp;quot;,\n                 &amp;quot;content&amp;quot;: f&amp;quot;Test message {i}&amp;quot;}\n                for i in range(1000)  # Test with 1000 messages\n            ]\n            mock_state.is_processing = False\n    \n&amp;gt;           chat_ui = ChatUI(ChatInterface(test_mode=True))\n\ntests\\test_performance.py:22: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E0A4E3F0&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E0A4E270&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n2024-11-27 14:16:20.793 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.793 Session state does not function when running a script without `streamlit run`\n2024-11-27 14:16:20.793 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.793 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 22, in test_message_rendering_speed\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 22, in test_message_rendering_speed\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:20.800 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.800 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 22, in test_message_rendering_speed\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 22, in test_message_rendering_speed\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n2024-11-27 14:16:20.803 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.803 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 22, in test_message_rendering_speed\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 22, in test_message_rendering_speed\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n2024-11-27 14:16:20.806 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.806 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 22, in test_message_rendering_speed\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 22, in test_message_rendering_speed\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n2024-11-27 14:16:20.810 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.810 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.810 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.810 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_performance.py::test_memory_usage&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_performance.py::test_memory_usage&#34;, &#34;duration&#34;: &#34;16 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_performance.py::test_memory_usage&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;16 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;@pytest.mark.performance\n    async def test_memory_usage():\n        &amp;quot;&amp;quot;&amp;quot;Test memory usage during chat operations.&amp;quot;&amp;quot;&amp;quot;\n        with patch(&amp;#x27;streamlit.session_state&amp;#x27;) as mock_state:\n            process = psutil.Process()\n            initial_memory = process.memory_info().rss\n    \n            # Setup chat with large history\n            mock_state.messages = [\n                {&amp;quot;role&amp;quot;: &amp;quot;user&amp;quot; if i % 2 == 0 else &amp;quot;assistant&amp;quot;,\n                 &amp;quot;content&amp;quot;: f&amp;quot;Test message {i} &amp;quot; * 100}  # Large messages\n                for i in range(100)\n            ]\n            mock_state.is_processing = False\n    \n&amp;gt;           chat_ui = ChatUI(ChatInterface(test_mode=True))\n\ntests\\test_performance.py:47: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E0A6F2C0&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E0A6F170&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n2024-11-27 14:16:20.826 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.826 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.826 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 47, in test_memory_usage\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 47, in test_memory_usage\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:20.831 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.831 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 47, in test_memory_usage\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 47, in test_memory_usage\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n2024-11-27 14:16:20.834 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.834 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 47, in test_memory_usage\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 47, in test_memory_usage\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n2024-11-27 14:16:20.836 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.836 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 47, in test_memory_usage\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 47, in test_memory_usage\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n2024-11-27 14:16:20.840 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.840 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.840 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.840 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_performance.py::test_api_response_time&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_performance.py::test_api_response_time&#34;, &#34;duration&#34;: &#34;17 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_performance.py::test_api_response_time&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;17 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;@pytest.mark.performance\n    async def test_api_response_time():\n        &amp;quot;&amp;quot;&amp;quot;Test API response time.&amp;quot;&amp;quot;&amp;quot;\n        with patch(&amp;#x27;streamlit.session_state&amp;#x27;) as mock_state:\n            mock_state.messages = []\n            mock_state.is_processing = False\n    \n            chat_interface = ChatInterface(test_mode=True)\n&amp;gt;           chat_ui = ChatUI(chat_interface)\n\ntests\\test_performance.py:66: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E09942C0&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E0995670&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n2024-11-27 14:16:20.856 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.857 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.857 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 65, in test_api_response_time\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 65, in test_api_response_time\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:20.860 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.860 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 66, in test_api_response_time\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 66, in test_api_response_time\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n2024-11-27 14:16:20.864 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.864 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 66, in test_api_response_time\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 66, in test_api_response_time\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n2024-11-27 14:16:20.867 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.867 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 66, in test_api_response_time\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 66, in test_api_response_time\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n2024-11-27 14:16:20.871 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.871 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.871 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.871 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_performance.py::test_concurrent_requests&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_performance.py::test_concurrent_requests&#34;, &#34;duration&#34;: &#34;16 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_performance.py::test_concurrent_requests&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;16 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;@pytest.mark.performance\n    async def test_concurrent_requests():\n        &amp;quot;&amp;quot;&amp;quot;Test handling of concurrent requests.&amp;quot;&amp;quot;&amp;quot;\n        with patch(&amp;#x27;streamlit.session_state&amp;#x27;) as mock_state:\n            mock_state.messages = []\n            mock_state.is_processing = False\n    \n            chat_interface = ChatInterface(test_mode=True)\n&amp;gt;           chat_ui = ChatUI(chat_interface)\n\ntests\\test_performance.py:88: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E09947A0&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E09AF5C0&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n2024-11-27 14:16:20.888 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.888 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.888 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 87, in test_concurrent_requests\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 87, in test_concurrent_requests\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:20.891 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.891 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 88, in test_concurrent_requests\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 88, in test_concurrent_requests\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n2024-11-27 14:16:20.895 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.895 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 88, in test_concurrent_requests\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 88, in test_concurrent_requests\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n2024-11-27 14:16:20.897 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.897 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 88, in test_concurrent_requests\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_performance.py&amp;quot;, line 88, in test_concurrent_requests\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n2024-11-27 14:16:20.901 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.901 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.902 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:20.902 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_streamlitchat.py::test_content&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_streamlitchat.py::test_content&#34;, &#34;duration&#34;: &#34;1 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_streamlitchat.py::test_content&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;1 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;No log output captured.&#34;}], &#34;tests/test_ui.py::test_chat_ui_initialization&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Error&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_chat_ui_initialization::setup&#34;, &#34;duration&#34;: &#34;14 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Error&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_chat_ui_initialization::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;14 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;@pytest.fixture\n    def chat_ui():\n        &amp;quot;&amp;quot;&amp;quot;Fixture to create a ChatUI instance with mocked Streamlit.&amp;quot;&amp;quot;&amp;quot;\n        mock_st = MagicMock()\n    \n        # Mock sidebar as a context manager\n        sidebar = MagicMock()\n        mock_st.sidebar = MagicMock()\n        mock_st.sidebar.__enter__ = MagicMock(return_value=sidebar)\n        mock_st.sidebar.__exit__ = MagicMock()\n    \n        # Create a ChatInterface in test mode\n        chat_interface = ChatInterface(test_mode=True)\n    \n        with patch(&amp;#x27;streamlitchat.ui.st&amp;#x27;, mock_st):\n&amp;gt;           ui = ChatUI(chat_interface)\n\ntests\\test_ui.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E091CB30&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E0A6C4D0&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n---------------------------- Captured stderr setup -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 33, in chat_ui\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 33, in chat_ui\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log setup ------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nINFO     streamlitchat.ui:ui.py:348 Settings saved to persistent storage\n&#34;}], &#34;tests/test_ui.py::test_chat_ui_session_state_initialization&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Error&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_chat_ui_session_state_initialization::setup&#34;, &#34;duration&#34;: &#34;14 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Error&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_chat_ui_session_state_initialization::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;14 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;@pytest.fixture\n    def chat_ui():\n        &amp;quot;&amp;quot;&amp;quot;Fixture to create a ChatUI instance with mocked Streamlit.&amp;quot;&amp;quot;&amp;quot;\n        mock_st = MagicMock()\n    \n        # Mock sidebar as a context manager\n        sidebar = MagicMock()\n        mock_st.sidebar = MagicMock()\n        mock_st.sidebar.__enter__ = MagicMock(return_value=sidebar)\n        mock_st.sidebar.__exit__ = MagicMock()\n    \n        # Create a ChatInterface in test mode\n        chat_interface = ChatInterface(test_mode=True)\n    \n        with patch(&amp;#x27;streamlitchat.ui.st&amp;#x27;, mock_st):\n&amp;gt;           ui = ChatUI(chat_interface)\n\ntests\\test_ui.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E0A6EF30&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E0997B00&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n---------------------------- Captured stderr setup -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 33, in chat_ui\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 33, in chat_ui\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log setup ------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nINFO     streamlitchat.ui:ui.py:348 Settings saved to persistent storage\n&#34;}], &#34;tests/test_ui.py::test_message_display&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Skipped&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_message_display::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Skipped&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_message_display::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;(&amp;#x27;g:\\\\streamlitchat\\\\tests\\\\test_ui.py&amp;#x27;, 103, &amp;#x27;Skipped: Mock setup needs to be reworked&amp;#x27;)\n&#34;}], &#34;tests/test_ui.py::test_user_input_handling&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Error&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_user_input_handling::setup&#34;, &#34;duration&#34;: &#34;14 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Error&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_user_input_handling::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;14 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;@pytest.fixture\n    def chat_ui():\n        &amp;quot;&amp;quot;&amp;quot;Fixture to create a ChatUI instance with mocked Streamlit.&amp;quot;&amp;quot;&amp;quot;\n        mock_st = MagicMock()\n    \n        # Mock sidebar as a context manager\n        sidebar = MagicMock()\n        mock_st.sidebar = MagicMock()\n        mock_st.sidebar.__enter__ = MagicMock(return_value=sidebar)\n        mock_st.sidebar.__exit__ = MagicMock()\n    \n        # Create a ChatInterface in test mode\n        chat_interface = ChatInterface(test_mode=True)\n    \n        with patch(&amp;#x27;streamlitchat.ui.st&amp;#x27;, mock_st):\n&amp;gt;           ui = ChatUI(chat_interface)\n\ntests\\test_ui.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E0CE5400&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E0994B60&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n---------------------------- Captured stderr setup -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 33, in chat_ui\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 33, in chat_ui\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log setup ------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nINFO     streamlitchat.ui:ui.py:348 Settings saved to persistent storage\n&#34;}], &#34;tests/test_ui.py::test_error_handling&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Error&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_error_handling::setup&#34;, &#34;duration&#34;: &#34;13 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Error&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_error_handling::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;13 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;@pytest.fixture\n    def chat_ui():\n        &amp;quot;&amp;quot;&amp;quot;Fixture to create a ChatUI instance with mocked Streamlit.&amp;quot;&amp;quot;&amp;quot;\n        mock_st = MagicMock()\n    \n        # Mock sidebar as a context manager\n        sidebar = MagicMock()\n        mock_st.sidebar = MagicMock()\n        mock_st.sidebar.__enter__ = MagicMock(return_value=sidebar)\n        mock_st.sidebar.__exit__ = MagicMock()\n    \n        # Create a ChatInterface in test mode\n        chat_interface = ChatInterface(test_mode=True)\n    \n        with patch(&amp;#x27;streamlitchat.ui.st&amp;#x27;, mock_st):\n&amp;gt;           ui = ChatUI(chat_interface)\n\ntests\\test_ui.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E0CE0C50&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E0CDA780&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n---------------------------- Captured stderr setup -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 33, in chat_ui\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 33, in chat_ui\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log setup ------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nINFO     streamlitchat.ui:ui.py:348 Settings saved to persistent storage\n&#34;}], &#34;tests/test_ui.py::test_sidebar_rendering&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Error&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_sidebar_rendering::setup&#34;, &#34;duration&#34;: &#34;14 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Error&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_sidebar_rendering::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;14 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;@pytest.fixture\n    def chat_ui():\n        &amp;quot;&amp;quot;&amp;quot;Fixture to create a ChatUI instance with mocked Streamlit.&amp;quot;&amp;quot;&amp;quot;\n        mock_st = MagicMock()\n    \n        # Mock sidebar as a context manager\n        sidebar = MagicMock()\n        mock_st.sidebar = MagicMock()\n        mock_st.sidebar.__enter__ = MagicMock(return_value=sidebar)\n        mock_st.sidebar.__exit__ = MagicMock()\n    \n        # Create a ChatInterface in test mode\n        chat_interface = ChatInterface(test_mode=True)\n    \n        with patch(&amp;#x27;streamlitchat.ui.st&amp;#x27;, mock_st):\n&amp;gt;           ui = ChatUI(chat_interface)\n\ntests\\test_ui.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E0995C70&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E0CC9730&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n---------------------------- Captured stderr setup -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 33, in chat_ui\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 33, in chat_ui\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log setup ------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nINFO     streamlitchat.ui:ui.py:348 Settings saved to persistent storage\n&#34;}], &#34;tests/test_ui.py::test_keyboard_shortcuts&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_keyboard_shortcuts&#34;, &#34;duration&#34;: &#34;59 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_keyboard_shortcuts&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;59 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;mock_st = &amp;lt;NonCallableMagicMock name=&amp;#x27;st&amp;#x27; spec=&amp;#x27;module&amp;#x27; id=&amp;#x27;1957981701328&amp;#x27;&amp;gt;\n\n    @pytest.mark.asyncio\n    async def test_keyboard_shortcuts(mock_st):\n        &amp;quot;&amp;quot;&amp;quot;Test keyboard shortcuts functionality.&amp;quot;&amp;quot;&amp;quot;\n        # Setup\n&amp;gt;       chat_ui = ChatUI(ChatInterface(test_mode=True))\n\ntests\\test_ui.py:187: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E0B229C0&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E0966F30&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n---------------------------- Captured stderr setup -----------------------------\n2024-11-27 14:16:21.084 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.084 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.085 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.085 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.085 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.085 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.085 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.085 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.085 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.085 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.085 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.085 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.085 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.085 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.085 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.085 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 187, in test_keyboard_shortcuts\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 187, in test_keyboard_shortcuts\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:21.125 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.125 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.125 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.125 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.125 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.125 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.125 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.125 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.125 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.125 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.125 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.125 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.126 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.126 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.126 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.126 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.126 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.126 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.126 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.126 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.126 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.126 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.127 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.127 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.127 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.127 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.127 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.127 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.127 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.127 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.127 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.127 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.127 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.127 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.128 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.128 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.128 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.128 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.128 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.128 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.128 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.128 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.129 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.129 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.129 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.129 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.129 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.129 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.129 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.129 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.130 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.130 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.130 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.130 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.130 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.130 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.130 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.130 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.131 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.131 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.131 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.131 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 187, in test_keyboard_shortcuts\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 187, in test_keyboard_shortcuts\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 187, in test_keyboard_shortcuts\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 187, in test_keyboard_shortcuts\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 187, in test_keyboard_shortcuts\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 187, in test_keyboard_shortcuts\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nINFO     streamlitchat.ui:ui.py:348 Settings saved to persistent storage\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_ui.py::test_keyboard_shortcut_while_processing&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_keyboard_shortcut_while_processing&#34;, &#34;duration&#34;: &#34;86 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_keyboard_shortcut_while_processing&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;86 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;mock_st = &amp;lt;NonCallableMagicMock name=&amp;#x27;st&amp;#x27; spec=&amp;#x27;module&amp;#x27; id=&amp;#x27;1957980020592&amp;#x27;&amp;gt;\n\n    @pytest.mark.asyncio\n    async def test_keyboard_shortcut_while_processing(mock_st):\n        &amp;quot;&amp;quot;&amp;quot;Test keyboard shortcuts are disabled while processing.&amp;quot;&amp;quot;&amp;quot;\n        # Setup\n&amp;gt;       chat_ui = ChatUI(ChatInterface(test_mode=True))\n\ntests\\test_ui.py:214: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E0CB42C0&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E0B22750&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n---------------------------- Captured stderr setup -----------------------------\n2024-11-27 14:16:21.163 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.163 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.163 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.163 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.163 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.163 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.163 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.164 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.164 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.164 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.164 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.164 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.164 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.164 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.164 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.164 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 214, in test_keyboard_shortcut_while_processing\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 214, in test_keyboard_shortcut_while_processing\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:21.232 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.232 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.232 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.232 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.232 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.232 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.232 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.232 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.232 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.232 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.232 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.232 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.233 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.233 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.233 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.233 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.233 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.233 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.233 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.233 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.233 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.233 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.234 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.234 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.234 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.234 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.234 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.234 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.234 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.234 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.234 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.234 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.235 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.235 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.235 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.235 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.235 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.235 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.235 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.235 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.235 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.235 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.236 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.236 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.236 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.236 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.236 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.236 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.236 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.236 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.236 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.236 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.236 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.236 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.237 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.237 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.237 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.237 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.237 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.237 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.237 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.237 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 214, in test_keyboard_shortcut_while_processing\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 214, in test_keyboard_shortcut_while_processing\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 214, in test_keyboard_shortcut_while_processing\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 214, in test_keyboard_shortcut_while_processing\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 214, in test_keyboard_shortcut_while_processing\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 214, in test_keyboard_shortcut_while_processing\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nINFO     streamlitchat.ui:ui.py:348 Settings saved to persistent storage\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_ui.py::test_keyboard_shortcut_ctrl_l&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_keyboard_shortcut_ctrl_l&#34;, &#34;duration&#34;: &#34;57 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_keyboard_shortcut_ctrl_l&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;57 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;mock_st = &amp;lt;NonCallableMagicMock name=&amp;#x27;st&amp;#x27; spec=&amp;#x27;module&amp;#x27; id=&amp;#x27;1957977594992&amp;#x27;&amp;gt;\n\n    @pytest.mark.asyncio\n    async def test_keyboard_shortcut_ctrl_l(mock_st):\n        &amp;quot;&amp;quot;&amp;quot;Test Ctrl+L shortcut to clear chat.&amp;quot;&amp;quot;&amp;quot;\n        # Setup\n&amp;gt;       chat_ui = ChatUI(ChatInterface(test_mode=True))\n\ntests\\test_ui.py:230: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E0EE9E20&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E0CDA3C0&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n---------------------------- Captured stderr setup -----------------------------\n2024-11-27 14:16:21.266 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.268 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.268 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.268 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.268 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.268 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.268 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.268 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.268 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.268 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.269 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.269 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.269 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.269 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.269 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.269 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 230, in test_keyboard_shortcut_ctrl_l\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 230, in test_keyboard_shortcut_ctrl_l\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.307 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.308 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.308 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.308 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.308 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.308 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.309 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.309 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.309 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.309 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.309 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.309 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.309 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.309 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.310 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.310 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.310 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.310 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.310 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.310 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.310 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.310 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.310 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.310 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.310 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.310 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.311 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.311 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.311 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.311 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.311 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.311 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.311 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.311 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.312 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.312 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.312 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.312 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.312 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.312 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.312 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.312 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.313 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.313 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.313 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.313 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 230, in test_keyboard_shortcut_ctrl_l\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 230, in test_keyboard_shortcut_ctrl_l\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 230, in test_keyboard_shortcut_ctrl_l\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 230, in test_keyboard_shortcut_ctrl_l\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 230, in test_keyboard_shortcut_ctrl_l\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 230, in test_keyboard_shortcut_ctrl_l\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nINFO     streamlitchat.ui:ui.py:348 Settings saved to persistent storage\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_ui.py::test_keyboard_shortcuts_setup&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_keyboard_shortcuts_setup&#34;, &#34;duration&#34;: &#34;54 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_keyboard_shortcuts_setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;54 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;mock_st = &amp;lt;NonCallableMagicMock name=&amp;#x27;st&amp;#x27; spec=&amp;#x27;module&amp;#x27; id=&amp;#x27;1957984145904&amp;#x27;&amp;gt;\n\n    @pytest.mark.asyncio\n    async def test_keyboard_shortcuts_setup(mock_st):\n        &amp;quot;&amp;quot;&amp;quot;Test keyboard shortcuts setup.&amp;quot;&amp;quot;&amp;quot;\n        # Setup\n&amp;gt;       chat_ui = ChatUI(ChatInterface(test_mode=True))\n\ntests\\test_ui.py:252: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E0FB51C0&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E0EE9A60&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n---------------------------- Captured stderr setup -----------------------------\n2024-11-27 14:16:21.343 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.343 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.343 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.343 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.343 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.343 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.343 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.343 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.343 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.344 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.344 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.344 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.344 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.344 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.344 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.344 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 252, in test_keyboard_shortcuts_setup\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 252, in test_keyboard_shortcuts_setup\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:21.380 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.380 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.380 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.380 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.380 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.380 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.380 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.380 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.380 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.380 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.380 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.380 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.381 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.381 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.381 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.381 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.381 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.381 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.381 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.381 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.381 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.381 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.382 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.382 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.382 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.382 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.382 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.382 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.382 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.382 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.382 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.382 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.383 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.383 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.383 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.383 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.383 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.383 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.383 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.383 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.383 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.383 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.384 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.384 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.384 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.384 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.384 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.384 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.384 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.384 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.385 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.385 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.385 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.385 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.385 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.385 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.385 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.385 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.385 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.385 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.385 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.385 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 252, in test_keyboard_shortcuts_setup\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 252, in test_keyboard_shortcuts_setup\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 252, in test_keyboard_shortcuts_setup\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 252, in test_keyboard_shortcuts_setup\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 252, in test_keyboard_shortcuts_setup\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 252, in test_keyboard_shortcuts_setup\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nINFO     streamlitchat.ui:ui.py:348 Settings saved to persistent storage\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_ui.py::test_api_parameters_persistence&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_api_parameters_persistence&#34;, &#34;duration&#34;: &#34;16 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_api_parameters_persistence&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;16 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;---------------------------- Captured stderr setup -----------------------------\n2024-11-27 14:16:21.413 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.413 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.413 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 466, in test_api_parameters_persistence\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 466, in test_api_parameters_persistence\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:21.418 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.418 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 466, in test_api_parameters_persistence\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 466, in test_api_parameters_persistence\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.420 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.421 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 466, in test_api_parameters_persistence\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 466, in test_api_parameters_persistence\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.423 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.423 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 466, in test_api_parameters_persistence\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 466, in test_api_parameters_persistence\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.426 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.426 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.426 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.426 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.426 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.426 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.426 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.426 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.426 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.426 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.426 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.426 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.426 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.426 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.426 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.426 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.428 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_ui.py::test_settings_persistence_save&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_settings_persistence_save&#34;, &#34;duration&#34;: &#34;55 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_settings_persistence_save&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;55 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;mock_st = &amp;lt;NonCallableMagicMock name=&amp;#x27;st&amp;#x27; spec=&amp;#x27;module&amp;#x27; id=&amp;#x27;1958002184880&amp;#x27;&amp;gt;\n\n    @pytest.mark.asyncio\n    async def test_settings_persistence_save(mock_st):\n        &amp;quot;&amp;quot;&amp;quot;Test saving settings to persistent storage.&amp;quot;&amp;quot;&amp;quot;\n        # Setup\n        chat_interface = ChatInterface(test_mode=True)\n&amp;gt;       chat_ui = ChatUI(chat_interface)\n\ntests\\test_ui.py:302: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E2197CE0&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E20663C0&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n---------------------------- Captured stderr setup -----------------------------\n2024-11-27 14:16:21.431 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.431 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.432 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.432 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.432 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.432 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.432 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.432 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.432 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.432 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.432 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.432 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.432 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.432 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.432 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.432 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 301, in test_settings_persistence_save\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 301, in test_settings_persistence_save\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.470 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.471 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.471 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.471 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.471 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.471 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.471 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.471 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.471 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.471 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.471 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.471 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.472 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.472 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.472 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.472 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.472 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.472 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.472 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.472 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.472 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.473 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.473 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.473 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.473 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.473 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.473 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.473 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.473 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.473 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.473 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.473 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.473 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.473 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.473 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.473 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.473 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.474 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.474 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.474 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.474 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.474 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.474 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.474 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.474 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 302, in test_settings_persistence_save\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 302, in test_settings_persistence_save\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 302, in test_settings_persistence_save\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 302, in test_settings_persistence_save\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 302, in test_settings_persistence_save\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 302, in test_settings_persistence_save\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nINFO     streamlitchat.ui:ui.py:348 Settings saved to persistent storage\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_ui.py::test_settings_persistence_load&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_settings_persistence_load&#34;, &#34;duration&#34;: &#34;56 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_settings_persistence_load&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;56 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;mock_st = &amp;lt;NonCallableMagicMock name=&amp;#x27;st&amp;#x27; spec=&amp;#x27;module&amp;#x27; id=&amp;#x27;1958003618736&amp;#x27;&amp;gt;\n\n    @pytest.mark.asyncio\n    async def test_settings_persistence_load(mock_st):\n        &amp;quot;&amp;quot;&amp;quot;Test loading settings from persistent storage.&amp;quot;&amp;quot;&amp;quot;\n        # Setup\n&amp;gt;       chat_ui = ChatUI(ChatInterface(test_mode=True))\n\ntests\\test_ui.py:339: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E225B050&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E21C3230&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n---------------------------- Captured stderr setup -----------------------------\n2024-11-27 14:16:21.508 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.508 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.508 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.508 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.508 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.508 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.508 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.508 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.508 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.508 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.508 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.508 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.508 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.508 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.508 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.508 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 339, in test_settings_persistence_load\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 339, in test_settings_persistence_load\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:21.547 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.547 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.547 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.547 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.547 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.547 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.547 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.547 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.547 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.547 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.547 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.547 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.548 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.548 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.548 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.548 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.548 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.548 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.548 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.548 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.548 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.548 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.548 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.548 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.548 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.548 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.549 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.549 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.549 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.549 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.549 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.549 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.549 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.549 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.549 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.550 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.550 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.550 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.550 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.550 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.550 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.550 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.550 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.550 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.550 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.550 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.551 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.551 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.551 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.551 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.551 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.551 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.551 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.551 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.551 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.551 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.551 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.551 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.551 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.551 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.551 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.551 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 339, in test_settings_persistence_load\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 339, in test_settings_persistence_load\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 339, in test_settings_persistence_load\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 339, in test_settings_persistence_load\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 339, in test_settings_persistence_load\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 339, in test_settings_persistence_load\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nINFO     streamlitchat.ui:ui.py:348 Settings saved to persistent storage\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_ui.py::test_settings_persistence_default&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_settings_persistence_default&#34;, &#34;duration&#34;: &#34;59 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_settings_persistence_default&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;59 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;mock_st = &amp;lt;NonCallableMagicMock name=&amp;#x27;st&amp;#x27; spec=&amp;#x27;module&amp;#x27; id=&amp;#x27;1958005302880&amp;#x27;&amp;gt;\n\n    @pytest.mark.asyncio\n    async def test_settings_persistence_default(mock_st):\n        &amp;quot;&amp;quot;&amp;quot;Test default settings when no stored settings exist.&amp;quot;&amp;quot;&amp;quot;\n        # Setup\n        chat_interface = ChatInterface(test_mode=True)\n&amp;gt;       chat_ui = ChatUI(chat_interface)\n\ntests\\test_ui.py:365: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E24AA3C0&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E235E300&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n---------------------------- Captured stderr setup -----------------------------\n2024-11-27 14:16:21.584 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.585 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.585 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.585 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.585 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.585 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.585 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.585 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.585 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.585 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.585 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.585 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.585 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.585 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.585 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.585 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 364, in test_settings_persistence_default\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 364, in test_settings_persistence_default\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:21.627 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.627 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.627 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.627 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.627 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.627 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.627 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.627 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.627 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.627 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.627 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.627 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.627 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.627 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.628 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.628 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.628 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.628 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.628 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.628 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.628 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.628 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.628 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.628 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.628 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.628 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.629 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.629 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.629 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.629 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.629 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.629 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.629 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.629 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.630 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.630 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.630 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.630 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.630 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.630 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.630 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.630 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.630 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.630 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.630 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.630 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.631 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.631 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.631 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.631 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.631 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.631 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.631 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.631 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.631 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.631 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.632 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.632 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.632 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.632 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.632 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.632 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 365, in test_settings_persistence_default\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 365, in test_settings_persistence_default\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 365, in test_settings_persistence_default\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 365, in test_settings_persistence_default\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 365, in test_settings_persistence_default\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 365, in test_settings_persistence_default\n    chat_ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nINFO     streamlitchat.ui:ui.py:348 Settings saved to persistent storage\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_ui.py::test_temperature_setting&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_temperature_setting&#34;, &#34;duration&#34;: &#34;18 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_temperature_setting&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;18 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n2024-11-27 14:16:21.662 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.662 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.662 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 429, in test_temperature_setting\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 429, in test_temperature_setting\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:21.666 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.666 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 429, in test_temperature_setting\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 429, in test_temperature_setting\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.669 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.669 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 429, in test_temperature_setting\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 429, in test_temperature_setting\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.672 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.672 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 429, in test_temperature_setting\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 429, in test_temperature_setting\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.675 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.675 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.675 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.675 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.676 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.678 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.678 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_ui.py::test_top_p_setting&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Passed&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_top_p_setting&#34;, &#34;duration&#34;: &#34;17 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Passed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_top_p_setting&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;17 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n2024-11-27 14:16:21.682 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.682 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.682 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 454, in test_top_p_setting\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 454, in test_top_p_setting\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:21.685 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.685 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 454, in test_top_p_setting\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 454, in test_top_p_setting\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.688 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.688 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 454, in test_top_p_setting\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 454, in test_top_p_setting\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.691 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.691 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 454, in test_top_p_setting\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 454, in test_top_p_setting\n    chat_ui = ChatUI(ChatInterface(test_mode=True), test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.695 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.696 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_ui.py::test_conversation_persistence&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Error&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_conversation_persistence::setup&#34;, &#34;duration&#34;: &#34;67 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Error&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_conversation_persistence::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;67 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;@pytest.fixture\n    def chat_ui():\n        &amp;quot;&amp;quot;&amp;quot;Fixture to create a ChatUI instance with mocked Streamlit.&amp;quot;&amp;quot;&amp;quot;\n        mock_st = MagicMock()\n    \n        # Mock sidebar as a context manager\n        sidebar = MagicMock()\n        mock_st.sidebar = MagicMock()\n        mock_st.sidebar.__enter__ = MagicMock(return_value=sidebar)\n        mock_st.sidebar.__exit__ = MagicMock()\n    \n        # Create a ChatInterface in test mode\n        chat_interface = ChatInterface(test_mode=True)\n    \n        with patch(&amp;#x27;streamlitchat.ui.st&amp;#x27;, mock_st):\n&amp;gt;           ui = ChatUI(chat_interface)\n\ntests\\test_ui.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E2501190&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E24D33B0&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n---------------------------- Captured stderr setup -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 33, in chat_ui\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 33, in chat_ui\n    chat_interface = ChatInterface(test_mode=True)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 126, in runtestprotocol\n    rep = call_and_report(item, &amp;quot;setup&amp;quot;, log)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 160, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 514, in setup\n    col.setup()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1630, in setup\n    self._request._fillfixtures()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 697, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 532, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 617, in _get_active_fixturedef\n    fixturedef.execute(request=subrequest)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1091, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\fixtures.py&amp;quot;, line 891, in call_fixture_func\n    fixture_result = next(generator)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 36, in chat_ui\n    ui = ChatUI(chat_interface)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log setup ------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nINFO     streamlitchat.ui:ui.py:348 Settings saved to persistent storage\n&#34;}], &#34;tests/test_ui.py::test_conversation_persistence_with_max_messages&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Skipped&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_conversation_persistence_with_max_messages::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Skipped&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_conversation_persistence_with_max_messages::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;(&amp;#x27;g:\\\\streamlitchat\\\\tests\\\\test_ui.py&amp;#x27;, 523, &amp;#x27;Skipped: Pagination logic needs to be reworked&amp;#x27;)\n&#34;}], &#34;tests/test_ui.py::test_theme_customization&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_theme_customization&#34;, &#34;duration&#34;: &#34;62 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_theme_customization&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;62 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;mock_st = &amp;lt;NonCallableMagicMock name=&amp;#x27;st&amp;#x27; spec=&amp;#x27;module&amp;#x27; id=&amp;#x27;1958006790368&amp;#x27;&amp;gt;\n\n    @pytest.mark.asyncio\n    async def test_theme_customization(mock_st):\n        &amp;quot;&amp;quot;&amp;quot;Test theme customization functionality.&amp;quot;&amp;quot;&amp;quot;\n        # Setup\n&amp;gt;       chat_ui = ChatUI(ChatInterface(test_mode=True))\n\ntests\\test_ui.py:555: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E0C76390&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E24D39B0&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n---------------------------- Captured stderr setup -----------------------------\n2024-11-27 14:16:21.787 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.787 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.787 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.787 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.787 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.787 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.787 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.787 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.787 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.787 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.787 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.787 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.787 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.788 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.788 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.788 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 555, in test_theme_customization\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 555, in test_theme_customization\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:21.824 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.825 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.825 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.825 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.825 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.825 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.825 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.825 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.825 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.825 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.825 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.825 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.825 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.825 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.826 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.826 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.826 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.826 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.826 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.826 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.826 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.826 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.828 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.828 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.828 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.828 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.829 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.829 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.829 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.829 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.829 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.829 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.829 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.830 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.830 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.830 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.830 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.830 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.831 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.831 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.831 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.831 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.831 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.831 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.831 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.831 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.832 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.832 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.832 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.832 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.832 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.832 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.832 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.832 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.833 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.833 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.833 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.833 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.834 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.834 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.834 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.834 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 555, in test_theme_customization\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 555, in test_theme_customization\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 555, in test_theme_customization\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 555, in test_theme_customization\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 555, in test_theme_customization\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 555, in test_theme_customization\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 348, in _save_settings\n    logger.info(&amp;quot;Settings saved to persistent storage&amp;quot;)\nMessage: &amp;#x27;Settings saved to persistent storage&amp;#x27;\nArguments: ()\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nINFO     streamlitchat.ui:ui.py:348 Settings saved to persistent storage\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_ui.py::test_theme_affects_styling&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_theme_affects_styling&#34;, &#34;duration&#34;: &#34;27 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_theme_affects_styling&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;27 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;@pytest.mark.asyncio\n    async def test_theme_affects_styling():\n        &amp;quot;&amp;quot;&amp;quot;Test that theme changes affect UI styling.&amp;quot;&amp;quot;&amp;quot;\n&amp;gt;       chat_ui = ChatUI(ChatInterface(test_mode=True))\n\ntests\\test_ui.py:568: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E0CE7920&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E0CE6D20&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 568, in test_theme_affects_styling\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 568, in test_theme_affects_styling\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:21.872 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.872 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.873 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.873 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.873 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.873 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.873 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.873 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.873 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.873 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.873 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.873 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.873 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.873 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.873 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.874 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.876 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 568, in test_theme_affects_styling\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 568, in test_theme_affects_styling\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.882 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.882 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.883 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.883 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 568, in test_theme_affects_styling\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 568, in test_theme_affects_styling\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.885 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.885 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.885 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.885 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.886 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 568, in test_theme_affects_styling\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 568, in test_theme_affects_styling\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.891 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.891 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.891 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.891 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_ui.py::test_message_pagination&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Skipped&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_message_pagination::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Skipped&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_message_pagination::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;(&amp;#x27;g:\\\\streamlitchat\\\\tests\\\\test_ui.py&amp;#x27;, 580, &amp;#x27;Skipped: Pagination logic needs to be reworked&amp;#x27;)\n&#34;}], &#34;tests/test_ui.py::test_pagination_controls&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_pagination_controls&#34;, &#34;duration&#34;: &#34;16 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_pagination_controls&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;16 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;@pytest.mark.asyncio\n    async def test_pagination_controls():\n        &amp;quot;&amp;quot;&amp;quot;Test pagination control functionality.&amp;quot;&amp;quot;&amp;quot;\n&amp;gt;       chat_ui = ChatUI(ChatInterface(test_mode=True))\n\ntests\\test_ui.py:623: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E0D20140&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E0D23AD0&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 623, in test_pagination_controls\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 623, in test_pagination_controls\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:21.916 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.916 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.916 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.916 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.916 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.916 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.916 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 623, in test_pagination_controls\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 623, in test_pagination_controls\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.919 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.919 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.919 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.919 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 623, in test_pagination_controls\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 623, in test_pagination_controls\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.922 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.922 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.922 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.922 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.922 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 623, in test_pagination_controls\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 623, in test_pagination_controls\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.925 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.925 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.925 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.925 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_ui.py::test_efficient_message_rendering&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_efficient_message_rendering&#34;, &#34;duration&#34;: &#34;14 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_efficient_message_rendering&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;14 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;@pytest.mark.asyncio\n    async def test_efficient_message_rendering():\n        &amp;quot;&amp;quot;&amp;quot;Test efficient message rendering with virtualization.&amp;quot;&amp;quot;&amp;quot;\n&amp;gt;       chat_ui = ChatUI(ChatInterface(test_mode=True))\n\ntests\\test_ui.py:656: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E0D20080&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E0D233E0&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 656, in test_efficient_message_rendering\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 656, in test_efficient_message_rendering\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:21.948 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.948 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.948 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.948 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.948 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.948 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.948 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 656, in test_efficient_message_rendering\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 656, in test_efficient_message_rendering\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.951 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.951 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.951 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.951 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 656, in test_efficient_message_rendering\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 656, in test_efficient_message_rendering\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.953 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.953 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.953 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.953 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.953 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 656, in test_efficient_message_rendering\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 656, in test_efficient_message_rendering\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.956 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.956 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.956 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.956 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_ui.py::test_message_rendering_performance&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Failed&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_message_rendering_performance&#34;, &#34;duration&#34;: &#34;19 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Failed&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_message_rendering_performance&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;19 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;@pytest.mark.asyncio\n    async def test_message_rendering_performance():\n        &amp;quot;&amp;quot;&amp;quot;Test message rendering performance metrics.&amp;quot;&amp;quot;&amp;quot;\n&amp;gt;       chat_ui = ChatUI(ChatInterface(test_mode=True))\n\ntests\\test_ui.py:686: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = &amp;lt;streamlitchat.ui.ChatUI object at 0x000001C7E0D23860&amp;gt;, chat_interface = &amp;lt;streamlitchat.chat_interface.ChatInterface object at 0x000001C7E0D23530&amp;gt;, test_mode = False\n\n    def __init__(self, chat_interface: Optional[ChatInterface] = None, test_mode: bool = False) -&amp;gt; None:\n        &amp;quot;&amp;quot;&amp;quot;Initialize the ChatUI.\n    \n        Args:\n            chat_interface: Optional ChatInterface instance. If not provided,\n                          a new instance will be created.\n            test_mode: If True, enables test mode which skips actual UI rendering.\n        &amp;quot;&amp;quot;&amp;quot;\n        self.chat_interface = chat_interface or ChatInterface()\n        self.test_mode = test_mode\n        self.current_page = 0  # Start at first page\n        self.scroll_position = 0\n        self.recycled_components: Dict[str, Any] = {}\n    \n        # Initialize history directory\n        self.history_dir = Path(&amp;quot;chat_history&amp;quot;)\n        self.history_dir.mkdir(exist_ok=True)\n    \n        self._initialize_session_state()\n        if not test_mode:\n            self._setup_page()\n            self._setup_keyboard_shortcuts()\n&amp;gt;           self._load_conversation()  # Load persisted conversation\nE           AttributeError: &amp;#x27;ChatUI&amp;#x27; object has no attribute &amp;#x27;_load_conversation&amp;#x27;\n\nsrc\\streamlitchat\\ui.py:54: AttributeError\n\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor\n\n----------------------------- Captured stderr call -----------------------------\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 686, in test_message_rendering_performance\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 686, in test_message_rendering_performance\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\chat_interface.py&amp;quot;, line 84, in __init__\n    logger.info(&amp;quot;Initialized ChatInterface with model: %s&amp;quot;, model_name)\nMessage: &amp;#x27;Initialized ChatInterface with model: %s&amp;#x27;\nArguments: (&amp;#x27;gpt-3.5-turbo&amp;#x27;,)\n2024-11-27 14:16:21.981 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.982 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.982 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.982 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.982 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.982 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.982 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 686, in test_message_rendering_performance\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 686, in test_message_rendering_performance\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 79, in _initialize_session_state\n    self._load_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 372, in _load_settings\n    logger.info(&amp;quot;No stored settings found, using defaults&amp;quot;)\nMessage: &amp;#x27;No stored settings found, using defaults&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.986 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.986 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.986 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.986 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 686, in test_message_rendering_performance\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 686, in test_message_rendering_performance\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 543, in _update_theme\n    logger.info(f&amp;quot;Updated theme to: {theme}&amp;quot;)\nMessage: &amp;#x27;Updated theme to: light&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.990 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.990 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.990 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.990 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.990 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 73, in emit\n    if self.shouldRollover(record):\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\handlers.py&amp;quot;, line 196, in shouldRollover\n    msg = &amp;quot;%s\\n&amp;quot; % self.format(record)\n                   ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 686, in test_message_rendering_performance\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n--- Logging error ---\nTraceback (most recent call last):\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 347, in _save_settings\n    st.query_params[&amp;#x27;settings&amp;#x27;] = current_settings\n    ~~~~~~~~~~~~~~~^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\metrics_util.py&amp;quot;, line 409, in wrapped_func\n    result = non_optional_func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params_proxy.py&amp;quot;, line 57, in __setitem__\n    qp[key] = value\n    ~~^^^^^\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 77, in __setitem__\n    self.__set_item_internal(key, value)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\streamlit\\runtime\\state\\query_params.py&amp;quot;, line 82, in __set_item_internal\n    raise StreamlitAPIException(\nstreamlit.errors.StreamlitAPIException: You cannot set a query params key `settings` to a dictionary.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 464, in format\n    return self._format(record)\n           ^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 460, in _format\n    return self._fmt % values\n           ~~~~~~~~~~^~~~~~~~\nKeyError: &amp;#x27;request_id&amp;#x27;\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 1160, in emit\n    msg = self.format(record)\n          ^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 999, in format\n    return fmt.format(record)\n           ^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 706, in format\n    s = self.formatMessage(record)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 675, in formatMessage\n    return self._style.format(record)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\logging\\__init__.py&amp;quot;, line 466, in format\n    raise ValueError(&amp;#x27;Formatting field not found in record: %s&amp;#x27; % e)\nValueError: Formatting field not found in record: &amp;#x27;request_id&amp;#x27;\nCall stack:\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 198, in _run_module_as_main\n  File &amp;quot;&amp;lt;frozen runpy&amp;gt;&amp;quot;, line 88, in _run_code\n  File &amp;quot;G:\\streamlitchat\\.venv\\Scripts\\pytest.exe\\__main__.py&amp;quot;, line 7, in &amp;lt;module&amp;gt;\n    sys.exit(console_main())\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 201, in console_main\n    code = main()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\config\\__init__.py&amp;quot;, line 175, in main\n    ret: ExitCode | int = config.hook.pytest_cmdline_main(config=config)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 330, in pytest_cmdline_main\n    return wrap_session(config, _main)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 283, in wrap_session\n    session.exitstatus = doit(config, session) or 0\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 337, in _main\n    config.hook.pytest_runtestloop(session=session)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\main.py&amp;quot;, line 362, in pytest_runtestloop\n    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 113, in pytest_runtest_protocol\n    runtestprotocol(item, nextitem=nextitem)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 132, in runtestprotocol\n    reports.append(call_and_report(item, &amp;quot;call&amp;quot;, log))\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 241, in call_and_report\n    call = CallInfo.from_call(\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 341, in from_call\n    result: TResult | None = func()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 242, in &amp;lt;lambda&amp;gt;\n    lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\runner.py&amp;quot;, line 174, in pytest_runtest_call\n    item.runtest()\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 457, in runtest\n    super().runtest()\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 1627, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_hooks.py&amp;quot;, line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_manager.py&amp;quot;, line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\pluggy\\_callers.py&amp;quot;, line 103, in _multicall\n    res = hook_impl.function(*args)\n  File &amp;quot;G:\\streamlitchat\\.venv\\Lib\\site-packages\\_pytest\\python.py&amp;quot;, line 159, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File &amp;quot;g:\\streamlitchat\\.venv\\Lib\\site-packages\\pytest_asyncio\\plugin.py&amp;quot;, line 929, in inner\n    _loop.run_until_complete(task)\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 651, in run_until_complete\n    self.run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\windows_events.py&amp;quot;, line 321, in run_forever\n    super().run_forever()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 618, in run_forever\n    self._run_once()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\base_events.py&amp;quot;, line 1951, in _run_once\n    handle._run()\n  File &amp;quot;D:\\sw_install\\python_312\\Lib\\asyncio\\events.py&amp;quot;, line 84, in _run\n    self._context.run(self._callback, *self._args)\n  File &amp;quot;g:\\streamlitchat\\tests\\test_ui.py&amp;quot;, line 686, in test_message_rendering_performance\n    chat_ui = ChatUI(ChatInterface(test_mode=True))\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 50, in __init__\n    self._initialize_session_state()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 84, in _initialize_session_state\n    self._update_theme(current_theme)\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 547, in _update_theme\n    self._save_settings()\n  File &amp;quot;G:\\streamlitchat\\src\\streamlitchat\\ui.py&amp;quot;, line 350, in _save_settings\n    logger.error(f&amp;quot;Error saving settings: {e}&amp;quot;)\nMessage: &amp;#x27;Error saving settings: You cannot set a query params key `settings` to a dictionary.&amp;#x27;\nArguments: ()\n2024-11-27 14:16:21.994 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.994 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.994 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n2024-11-27 14:16:21.994 Thread &amp;#x27;MainThread&amp;#x27;: missing ScriptRunContext! This warning can be ignored when running in bare mode.\n\n------------------------------ Captured log call -------------------------------\nINFO     streamlitchat.chat_interface:chat_interface.py:84 Initialized ChatInterface with model: gpt-3.5-turbo\nINFO     streamlitchat.ui:ui.py:372 No stored settings found, using defaults\nINFO     streamlitchat.ui:ui.py:543 Updated theme to: light\nERROR    streamlitchat.ui:ui.py:350 Error saving settings: You cannot set a query params key `settings` to a dictionary.\n\n---------------------------- Captured log teardown -----------------------------\nDEBUG    asyncio:proactor_events.py:634 Using proactor: IocpProactor&#34;}], &#34;tests/test_ui.py::test_code_block_highlighting&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Skipped&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_code_block_highlighting::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Skipped&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_code_block_highlighting::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;(&amp;#x27;g:\\\\streamlitchat\\\\tests\\\\test_ui.py&amp;#x27;, 717, &amp;#x27;Skipped: Mock setup needs to be reworked&amp;#x27;)\n&#34;}], &#34;tests/test_ui.py::test_code_block_language_detection&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Skipped&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_code_block_language_detection::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Skipped&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_code_block_language_detection::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;(&amp;#x27;g:\\\\streamlitchat\\\\tests\\\\test_ui.py&amp;#x27;, 743, &amp;#x27;Skipped: Mock setup needs to be reworked&amp;#x27;)\n&#34;}], &#34;tests/test_ui.py::test_code_block_error_handling&#34;: [{&#34;extras&#34;: [], &#34;result&#34;: &#34;Skipped&#34;, &#34;testId&#34;: &#34;tests/test_ui.py::test_code_block_error_handling::setup&#34;, &#34;duration&#34;: &#34;0 ms&#34;, &#34;resultsTableRow&#34;: [&#34;&lt;td class=\&#34;col-result\&#34;&gt;Skipped&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-testId\&#34;&gt;tests/test_ui.py::test_code_block_error_handling::setup&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-duration\&#34;&gt;0 ms&lt;/td&gt;&#34;, &#34;&lt;td class=\&#34;col-links\&#34;&gt;&lt;/td&gt;&#34;], &#34;log&#34;: &#34;(&amp;#x27;g:\\\\streamlitchat\\\\tests\\\\test_ui.py&amp;#x27;, 767, &amp;#x27;Skipped: Mock setup needs to be reworked&amp;#x27;)\n&#34;}]}, &#34;renderCollapsed&#34;: [&#34;passed&#34;], &#34;initialSort&#34;: &#34;result&#34;, &#34;title&#34;: &#34;report.html&#34;}"></div>
    <script>
      (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
const { getCollapsedCategory, setCollapsedIds } = require('./storage.js')

class DataManager {
    setManager(data) {
        const collapsedCategories = [...getCollapsedCategory(data.renderCollapsed)]
        const collapsedIds = []
        const tests = Object.values(data.tests).flat().map((test, index) => {
            const collapsed = collapsedCategories.includes(test.result.toLowerCase())
            const id = `test_${index}`
            if (collapsed) {
                collapsedIds.push(id)
            }
            return {
                ...test,
                id,
                collapsed,
            }
        })
        const dataBlob = { ...data, tests }
        this.data = { ...dataBlob }
        this.renderData = { ...dataBlob }
        setCollapsedIds(collapsedIds)
    }

    get allData() {
        return { ...this.data }
    }

    resetRender() {
        this.renderData = { ...this.data }
    }

    setRender(data) {
        this.renderData.tests = [...data]
    }

    toggleCollapsedItem(id) {
        this.renderData.tests = this.renderData.tests.map((test) =>
            test.id === id ? { ...test, collapsed: !test.collapsed } : test,
        )
    }

    set allCollapsed(collapsed) {
        this.renderData = { ...this.renderData, tests: [...this.renderData.tests.map((test) => (
            { ...test, collapsed }
        ))] }
    }

    get testSubset() {
        return [...this.renderData.tests]
    }

    get environment() {
        return this.renderData.environment
    }

    get initialSort() {
        return this.data.initialSort
    }
}

module.exports = {
    manager: new DataManager(),
}

},{"./storage.js":8}],2:[function(require,module,exports){
const mediaViewer = require('./mediaviewer.js')
const templateEnvRow = document.getElementById('template_environment_row')
const templateResult = document.getElementById('template_results-table__tbody')

function htmlToElements(html) {
    const temp = document.createElement('template')
    temp.innerHTML = html
    return temp.content.childNodes
}

const find = (selector, elem) => {
    if (!elem) {
        elem = document
    }
    return elem.querySelector(selector)
}

const findAll = (selector, elem) => {
    if (!elem) {
        elem = document
    }
    return [...elem.querySelectorAll(selector)]
}

const dom = {
    getStaticRow: (key, value) => {
        const envRow = templateEnvRow.content.cloneNode(true)
        const isObj = typeof value === 'object' && value !== null
        const values = isObj ? Object.keys(value).map((k) => `${k}: ${value[k]}`) : null

        const valuesElement = htmlToElements(
            values ? `<ul>${values.map((val) => `<li>${val}</li>`).join('')}<ul>` : `<div>${value}</div>`)[0]
        const td = findAll('td', envRow)
        td[0].textContent = key
        td[1].appendChild(valuesElement)

        return envRow
    },
    getResultTBody: ({ testId, id, log, extras, resultsTableRow, tableHtml, result, collapsed }) => {
        const resultBody = templateResult.content.cloneNode(true)
        resultBody.querySelector('tbody').classList.add(result.toLowerCase())
        resultBody.querySelector('tbody').id = testId
        resultBody.querySelector('.collapsible').dataset.id = id

        resultsTableRow.forEach((html) => {
            const t = document.createElement('template')
            t.innerHTML = html
            resultBody.querySelector('.collapsible').appendChild(t.content)
        })

        if (log) {
            // Wrap lines starting with "E" with span.error to color those lines red
            const wrappedLog = log.replace(/^E.*$/gm, (match) => `<span class="error">${match}</span>`)
            resultBody.querySelector('.log').innerHTML = wrappedLog
        } else {
            resultBody.querySelector('.log').remove()
        }

        if (collapsed) {
            resultBody.querySelector('.collapsible > td')?.classList.add('collapsed')
            resultBody.querySelector('.extras-row').classList.add('hidden')
        } else {
            resultBody.querySelector('.collapsible > td')?.classList.remove('collapsed')
        }

        const media = []
        extras?.forEach(({ name, format_type, content }) => {
            if (['image', 'video'].includes(format_type)) {
                media.push({ path: content, name, format_type })
            }

            if (format_type === 'html') {
                resultBody.querySelector('.extraHTML').insertAdjacentHTML('beforeend', `<div>${content}</div>`)
            }
        })
        mediaViewer.setup(resultBody, media)

        // Add custom html from the pytest_html_results_table_html hook
        tableHtml?.forEach((item) => {
            resultBody.querySelector('td[class="extra"]').insertAdjacentHTML('beforeend', item)
        })

        return resultBody
    },
}

module.exports = {
    dom,
    htmlToElements,
    find,
    findAll,
}

},{"./mediaviewer.js":6}],3:[function(require,module,exports){
const { manager } = require('./datamanager.js')
const { doSort } = require('./sort.js')
const storageModule = require('./storage.js')

const getFilteredSubSet = (filter) =>
    manager.allData.tests.filter(({ result }) => filter.includes(result.toLowerCase()))

const doInitFilter = () => {
    const currentFilter = storageModule.getVisible()
    const filteredSubset = getFilteredSubSet(currentFilter)
    manager.setRender(filteredSubset)
}

const doFilter = (type, show) => {
    if (show) {
        storageModule.showCategory(type)
    } else {
        storageModule.hideCategory(type)
    }

    const currentFilter = storageModule.getVisible()
    const filteredSubset = getFilteredSubSet(currentFilter)
    manager.setRender(filteredSubset)

    const sortColumn = storageModule.getSort()
    doSort(sortColumn, true)
}

module.exports = {
    doFilter,
    doInitFilter,
}

},{"./datamanager.js":1,"./sort.js":7,"./storage.js":8}],4:[function(require,module,exports){
const { redraw, bindEvents, renderStatic } = require('./main.js')
const { doInitFilter } = require('./filter.js')
const { doInitSort } = require('./sort.js')
const { manager } = require('./datamanager.js')
const data = JSON.parse(document.getElementById('data-container').dataset.jsonblob)

function init() {
    manager.setManager(data)
    doInitFilter()
    doInitSort()
    renderStatic()
    redraw()
    bindEvents()
}

init()

},{"./datamanager.js":1,"./filter.js":3,"./main.js":5,"./sort.js":7}],5:[function(require,module,exports){
const { dom, find, findAll } = require('./dom.js')
const { manager } = require('./datamanager.js')
const { doSort } = require('./sort.js')
const { doFilter } = require('./filter.js')
const {
    getVisible,
    getCollapsedIds,
    setCollapsedIds,
    getSort,
    getSortDirection,
    possibleFilters,
} = require('./storage.js')

const removeChildren = (node) => {
    while (node.firstChild) {
        node.removeChild(node.firstChild)
    }
}

const renderStatic = () => {
    const renderEnvironmentTable = () => {
        const environment = manager.environment
        const rows = Object.keys(environment).map((key) => dom.getStaticRow(key, environment[key]))
        const table = document.getElementById('environment')
        removeChildren(table)
        rows.forEach((row) => table.appendChild(row))
    }
    renderEnvironmentTable()
}

const addItemToggleListener = (elem) => {
    elem.addEventListener('click', ({ target }) => {
        const id = target.parentElement.dataset.id
        manager.toggleCollapsedItem(id)

        const collapsedIds = getCollapsedIds()
        if (collapsedIds.includes(id)) {
            const updated = collapsedIds.filter((item) => item !== id)
            setCollapsedIds(updated)
        } else {
            collapsedIds.push(id)
            setCollapsedIds(collapsedIds)
        }
        redraw()
    })
}

const renderContent = (tests) => {
    const sortAttr = getSort(manager.initialSort)
    const sortAsc = JSON.parse(getSortDirection())
    const rows = tests.map(dom.getResultTBody)
    const table = document.getElementById('results-table')
    const tableHeader = document.getElementById('results-table-head')

    const newTable = document.createElement('table')
    newTable.id = 'results-table'

    // remove all sorting classes and set the relevant
    findAll('.sortable', tableHeader).forEach((elem) => elem.classList.remove('asc', 'desc'))
    tableHeader.querySelector(`.sortable[data-column-type="${sortAttr}"]`)?.classList.add(sortAsc ? 'desc' : 'asc')
    newTable.appendChild(tableHeader)

    if (!rows.length) {
        const emptyTable = document.getElementById('template_results-table__body--empty').content.cloneNode(true)
        newTable.appendChild(emptyTable)
    } else {
        rows.forEach((row) => {
            if (!!row) {
                findAll('.collapsible td:not(.col-links', row).forEach(addItemToggleListener)
                find('.logexpander', row).addEventListener('click',
                    (evt) => evt.target.parentNode.classList.toggle('expanded'),
                )
                newTable.appendChild(row)
            }
        })
    }

    table.replaceWith(newTable)
}

const renderDerived = () => {
    const currentFilter = getVisible()
    possibleFilters.forEach((result) => {
        const input = document.querySelector(`input[data-test-result="${result}"]`)
        input.checked = currentFilter.includes(result)
    })
}

const bindEvents = () => {
    const filterColumn = (evt) => {
        const { target: element } = evt
        const { testResult } = element.dataset

        doFilter(testResult, element.checked)
        const collapsedIds = getCollapsedIds()
        const updated = manager.renderData.tests.map((test) => {
            return {
                ...test,
                collapsed: collapsedIds.includes(test.id),
            }
        })
        manager.setRender(updated)
        redraw()
    }

    const header = document.getElementById('environment-header')
    header.addEventListener('click', () => {
        const table = document.getElementById('environment')
        table.classList.toggle('hidden')
        header.classList.toggle('collapsed')
    })

    findAll('input[name="filter_checkbox"]').forEach((elem) => {
        elem.addEventListener('click', filterColumn)
    })

    findAll('.sortable').forEach((elem) => {
        elem.addEventListener('click', (evt) => {
            const { target: element } = evt
            const { columnType } = element.dataset
            doSort(columnType)
            redraw()
        })
    })

    document.getElementById('show_all_details').addEventListener('click', () => {
        manager.allCollapsed = false
        setCollapsedIds([])
        redraw()
    })
    document.getElementById('hide_all_details').addEventListener('click', () => {
        manager.allCollapsed = true
        const allIds = manager.renderData.tests.map((test) => test.id)
        setCollapsedIds(allIds)
        redraw()
    })
}

const redraw = () => {
    const { testSubset } = manager

    renderContent(testSubset)
    renderDerived()
}

module.exports = {
    redraw,
    bindEvents,
    renderStatic,
}

},{"./datamanager.js":1,"./dom.js":2,"./filter.js":3,"./sort.js":7,"./storage.js":8}],6:[function(require,module,exports){
class MediaViewer {
    constructor(assets) {
        this.assets = assets
        this.index = 0
    }

    nextActive() {
        this.index = this.index === this.assets.length - 1 ? 0 : this.index + 1
        return [this.activeFile, this.index]
    }

    prevActive() {
        this.index = this.index === 0 ? this.assets.length - 1 : this.index -1
        return [this.activeFile, this.index]
    }

    get currentIndex() {
        return this.index
    }

    get activeFile() {
        return this.assets[this.index]
    }
}


const setup = (resultBody, assets) => {
    if (!assets.length) {
        resultBody.querySelector('.media').classList.add('hidden')
        return
    }

    const mediaViewer = new MediaViewer(assets)
    const container = resultBody.querySelector('.media-container')
    const leftArrow = resultBody.querySelector('.media-container__nav--left')
    const rightArrow = resultBody.querySelector('.media-container__nav--right')
    const mediaName = resultBody.querySelector('.media__name')
    const counter = resultBody.querySelector('.media__counter')
    const imageEl = resultBody.querySelector('img')
    const sourceEl = resultBody.querySelector('source')
    const videoEl = resultBody.querySelector('video')

    const setImg = (media, index) => {
        if (media?.format_type === 'image') {
            imageEl.src = media.path

            imageEl.classList.remove('hidden')
            videoEl.classList.add('hidden')
        } else if (media?.format_type === 'video') {
            sourceEl.src = media.path

            videoEl.classList.remove('hidden')
            imageEl.classList.add('hidden')
        }

        mediaName.innerText = media?.name
        counter.innerText = `${index + 1} / ${assets.length}`
    }
    setImg(mediaViewer.activeFile, mediaViewer.currentIndex)

    const moveLeft = () => {
        const [media, index] = mediaViewer.prevActive()
        setImg(media, index)
    }
    const doRight = () => {
        const [media, index] = mediaViewer.nextActive()
        setImg(media, index)
    }
    const openImg = () => {
        window.open(mediaViewer.activeFile.path, '_blank')
    }
    if (assets.length === 1) {
        container.classList.add('media-container--fullscreen')
    } else {
        leftArrow.addEventListener('click', moveLeft)
        rightArrow.addEventListener('click', doRight)
    }
    imageEl.addEventListener('click', openImg)
}

module.exports = {
    setup,
}

},{}],7:[function(require,module,exports){
const { manager } = require('./datamanager.js')
const storageModule = require('./storage.js')

const genericSort = (list, key, ascending, customOrder) => {
    let sorted
    if (customOrder) {
        sorted = list.sort((a, b) => {
            const aValue = a.result.toLowerCase()
            const bValue = b.result.toLowerCase()

            const aIndex = customOrder.findIndex((item) => item.toLowerCase() === aValue)
            const bIndex = customOrder.findIndex((item) => item.toLowerCase() === bValue)

            // Compare the indices to determine the sort order
            return aIndex - bIndex
        })
    } else {
        sorted = list.sort((a, b) => a[key] === b[key] ? 0 : a[key] > b[key] ? 1 : -1)
    }

    if (ascending) {
        sorted.reverse()
    }
    return sorted
}

const durationSort = (list, ascending) => {
    const parseDuration = (duration) => {
        if (duration.includes(':')) {
            // If it's in the format "HH:mm:ss"
            const [hours, minutes, seconds] = duration.split(':').map(Number)
            return (hours * 3600 + minutes * 60 + seconds) * 1000
        } else {
            // If it's in the format "nnn ms"
            return parseInt(duration)
        }
    }
    const sorted = list.sort((a, b) => parseDuration(a['duration']) - parseDuration(b['duration']))
    if (ascending) {
        sorted.reverse()
    }
    return sorted
}

const doInitSort = () => {
    const type = storageModule.getSort(manager.initialSort)
    const ascending = storageModule.getSortDirection()
    const list = manager.testSubset
    const initialOrder = ['Error', 'Failed', 'Rerun', 'XFailed', 'XPassed', 'Skipped', 'Passed']

    storageModule.setSort(type)
    storageModule.setSortDirection(ascending)

    if (type?.toLowerCase() === 'original') {
        manager.setRender(list)
    } else {
        let sortedList
        switch (type) {
        case 'duration':
            sortedList = durationSort(list, ascending)
            break
        case 'result':
            sortedList = genericSort(list, type, ascending, initialOrder)
            break
        default:
            sortedList = genericSort(list, type, ascending)
            break
        }
        manager.setRender(sortedList)
    }
}

const doSort = (type, skipDirection) => {
    const newSortType = storageModule.getSort(manager.initialSort) !== type
    const currentAsc = storageModule.getSortDirection()
    let ascending
    if (skipDirection) {
        ascending = currentAsc
    } else {
        ascending = newSortType ? false : !currentAsc
    }
    storageModule.setSort(type)
    storageModule.setSortDirection(ascending)

    const list = manager.testSubset
    const sortedList = type === 'duration' ? durationSort(list, ascending) : genericSort(list, type, ascending)
    manager.setRender(sortedList)
}

module.exports = {
    doInitSort,
    doSort,
}

},{"./datamanager.js":1,"./storage.js":8}],8:[function(require,module,exports){
const possibleFilters = [
    'passed',
    'skipped',
    'failed',
    'error',
    'xfailed',
    'xpassed',
    'rerun',
]

const getVisible = () => {
    const url = new URL(window.location.href)
    const settings = new URLSearchParams(url.search).get('visible')
    const lower = (item) => {
        const lowerItem = item.toLowerCase()
        if (possibleFilters.includes(lowerItem)) {
            return lowerItem
        }
        return null
    }
    return settings === null ?
        possibleFilters :
        [...new Set(settings?.split(',').map(lower).filter((item) => item))]
}

const hideCategory = (categoryToHide) => {
    const url = new URL(window.location.href)
    const visibleParams = new URLSearchParams(url.search).get('visible')
    const currentVisible = visibleParams ? visibleParams.split(',') : [...possibleFilters]
    const settings = [...new Set(currentVisible)].filter((f) => f !== categoryToHide).join(',')

    url.searchParams.set('visible', settings)
    window.history.pushState({}, null, unescape(url.href))
}

const showCategory = (categoryToShow) => {
    if (typeof window === 'undefined') {
        return
    }
    const url = new URL(window.location.href)
    const currentVisible = new URLSearchParams(url.search).get('visible')?.split(',').filter(Boolean) ||
        [...possibleFilters]
    const settings = [...new Set([categoryToShow, ...currentVisible])]
    const noFilter = possibleFilters.length === settings.length || !settings.length

    noFilter ? url.searchParams.delete('visible') : url.searchParams.set('visible', settings.join(','))
    window.history.pushState({}, null, unescape(url.href))
}

const getSort = (initialSort) => {
    const url = new URL(window.location.href)
    let sort = new URLSearchParams(url.search).get('sort')
    if (!sort) {
        sort = initialSort || 'result'
    }
    return sort
}

const setSort = (type) => {
    const url = new URL(window.location.href)
    url.searchParams.set('sort', type)
    window.history.pushState({}, null, unescape(url.href))
}

const getCollapsedCategory = (renderCollapsed) => {
    let categories
    if (typeof window !== 'undefined') {
        const url = new URL(window.location.href)
        const collapsedItems = new URLSearchParams(url.search).get('collapsed')
        switch (true) {
        case !renderCollapsed && collapsedItems === null:
            categories = ['passed']
            break
        case collapsedItems?.length === 0 || /^["']{2}$/.test(collapsedItems):
            categories = []
            break
        case /^all$/.test(collapsedItems) || collapsedItems === null && /^all$/.test(renderCollapsed):
            categories = [...possibleFilters]
            break
        default:
            categories = collapsedItems?.split(',').map((item) => item.toLowerCase()) || renderCollapsed
            break
        }
    } else {
        categories = []
    }
    return categories
}

const getSortDirection = () => JSON.parse(sessionStorage.getItem('sortAsc')) || false
const setSortDirection = (ascending) => sessionStorage.setItem('sortAsc', ascending)

const getCollapsedIds = () => JSON.parse(sessionStorage.getItem('collapsedIds')) || []
const setCollapsedIds = (list) => sessionStorage.setItem('collapsedIds', JSON.stringify(list))

module.exports = {
    getVisible,
    hideCategory,
    showCategory,
    getCollapsedIds,
    setCollapsedIds,
    getSort,
    setSort,
    getSortDirection,
    setSortDirection,
    getCollapsedCategory,
    possibleFilters,
}

},{}]},{},[4]);
    </script>
  </footer>
</html>